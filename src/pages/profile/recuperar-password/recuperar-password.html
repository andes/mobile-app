<ion-header>

  <ion-navbar>
    <ion-title>Recuperar mi contraseña</ion-title>
  </ion-navbar>

</ion-header>


<ion-content recuperar-password padding class="content-dark">
  <div class="div-code" [hidden]="displayForm">

      <ion-icon class="content-icon" name="lock" text-center></ion-icon>


    <h1 class="content-title"> Recuperar contraseña </h1>

    <p class="content-subtitle" text-center>
      Le enviaremos por email un código con una validez de 2 días.
      <br />
      Una vez ingresado el código correcto, podrá reestablecer su nueva contraseña.
    </p>

    <div text-center>

      <form novalidate (ngSubmit)="sendCode()" [formGroup]="formRecuperar">

        <ion-item>
          <ion-label floating>Ingrese su e-mail</ion-label>
          <ion-input formControlName="email" type="email"> </ion-input>
        </ion-item>

        <button ion-button round  type="submit" [disabled]="formRecuperar.invalid">
          <b>¡Enviame el código!</b>
        </button>
        <div text-center>
          <button ion-button clear class="link" type="button" (click)="yaTengo()">Ya tengo el código</button>
        </div>
      </form>
    </div>
  </div>

  <div padding-vertical text-center [hidden]="!displayForm">

    <h1 class="content-title"> Establecer nueva contraseña </h1>

    <form novalidate (ngSubmit)="resetPassword()" [formGroup]="formResetear">
      <ion-item>
          <ion-label floating>Ingrese email</ion-label>
          <ion-input formControlName="email" type="email"> </ion-input>
        </ion-item>

      <ion-item>
        <ion-label floating>Ingrese código de seguridad</ion-label>
        <ion-input formControlName="codigo" name="codigo"> </ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Nuevo password</ion-label>
        <ion-input formControlName="password" name="password" type="password"> </ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Reingrese nuevo password</ion-label>
        <ion-input formControlName="password2" name="password2" type="password"> </ion-input>
      </ion-item>

      <button ion-button block margin-vertical type="submit" [disabled]="formResetear.invalid">
        Reestablecer contraseña
      </button>

      <button ion-button block color="light" type="button" (click)="cancel()">
        Cancelar
      </button>

    </form>
  </div>



</ion-content>
